!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._headers=e.headers}var n,r;return n=t,(r=[{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"setUserInfo",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.info})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"setUserAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"addNewCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"removeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"toggleLike",value:function(e,t){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:t?"PUT":"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function e(t,n,o,i,c,a){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_handleLike",(function(e){u._likes=u._handleLikeButton(u._cardId,u._cardElement,u._likes)})),r(this,"_handlePopup",(function(){u._handleCardClick(u._link,u._name)})),r(this,"_handleRemove",(function(){u._handleDeletePopup(u._cardId,u._cardElement)})),this._name=t.name,this._link=t.link,this._likes=t.likes,this._owner=t.owner,this._ownerId=this._owner._id,this._cardId=t._id,this._userId=i,this._cardElement=n.querySelector(".image-card").cloneNode(!0),this._handleDeletePopup=c,this._handleCardClick=o,this._handleLikeButton=a}var t,o;return t=e,(o=[{key:"createCard",value:function(){var e=this._cardElement.querySelector(".image-card__name"),t=this._cardElement.querySelector(".image-card__image"),n=this._cardElement.querySelector(".image-card__love-count");return e.textContent=this._name,t.style.backgroundImage="url(".concat(this._link,")"),n.textContent=this._likes.length,this._setEventListeners(),this._cardElement}},{key:"_setEventListeners",value:function(){var e=this,t=this._cardElement.querySelector(".image-card__love-button"),n=this._cardElement.querySelector(".image-card__image"),r=this._cardElement.querySelector(".image-card__remove-button");this._likes.forEach((function(n){e._userId===n._id&&t.classList.add("image-card__love-button_active")})),t.addEventListener("click",this._handleLike),n.addEventListener("click",this._handlePopup),this._ownerId===this._userId?r.addEventListener("click",this._handleRemove):r.remove()}}])&&n(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._settings=t,this._formElement=n}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}},{key:"_setEventListeners",value:function(){var e=this,t=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),n=this._formElement.querySelector(this._settings.submitButtonSelector);this._toggleButtonState(t,n),t.forEach((function(r){r.addEventListener("input",(function(){e._checkInputValidity(r),e._toggleButtonState(t,n)}))}))}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?(t.classList.add(this._settings.inactiveButtonClass),t.disabled=!0):(t.classList.remove(this._settings.inactiveButtonClass),t.disabled=!1)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._settings.inputErrorClass),n.textContent=t,n.classList.add(this._settings.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._settings.inputErrorClass),t.classList.remove(this._settings.errorClass),t.textContent=""}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"_handleButtonClose",(function(){n.close()})),u(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),u(this,"_handleClickClose",(function(e){e.target.classList.contains("popup_visible")&&n.close()})),this._popupSelector=document.querySelector(t),this._closeButton=this._popupSelector.querySelector(".popup__close-button")}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupSelector.classList.add("popup_visible"),this.setEventListeners()}},{key:"close",value:function(){this._popupSelector.classList.remove("popup_visible"),document.removeEventListener("click",this._handleClickClose),document.removeEventListener("keydown",this._handleEscClose),this._closeButton.addEventListener("click",this._handleButtonClose)}},{key:"setEventListeners",value:function(){document.addEventListener("click",this._handleClickClose),document.addEventListener("keydown",this._handleEscClose),this._closeButton.addEventListener("click",this._handleButtonClose)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},d.apply(this,arguments)}function _(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&f(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(n);if(r){var o=y(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return p(this,e)});function i(e){var t,n,r,c,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a=function(e,r){n._popupImage.src=e,n._popupImage.alt=r,n._popupTitle.textContent=r,d((t=h(n),y(i.prototype)),"open",t).call(t)},(c="open")in(r=h(n=o.call(this,e)))?Object.defineProperty(r,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):r.open=a,n._popupImage=n._popupSelector.querySelector(".popup__image"),n._popupTitle=n._popupSelector.querySelector(".popup__card-title"),n}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(l);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=E(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function S(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&w(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function c(e,t){var n,r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a=function(e){e.preventDefault(),n._handleSubmission(n._getInputValues())},(o="_handleSubmissionFunc")in(r=k(n=i.call(this,t)))?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,n._handleSubmission=e,n._inputList=n._popupSelector.querySelectorAll(".popup__input"),n._form=n._popupSelector.querySelector(".popup__form"),n}return t=c,(n=[{key:"close",value:function(){g(O(c.prototype),"close",this).call(this),this._form.reset()}},{key:"setEventListeners",value:function(){g(O(c.prototype),"setEventListeners",this).call(this),this._popupSelector.addEventListener("submit",this._handleSubmissionFunc)}},{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){return e[t.name]=t.value})),e}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(l);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=q(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},L.apply(this,arguments)}function q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function R(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&I(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(o){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function c(e,t,n,r){var o,a,u,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),l=function(){o._handleVerification(o._id,o._element)},(u="_handleVerificationFunc")in(a=x(o=i.call(this,t)))?Object.defineProperty(a,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[u]=l,o._saveBtn=o._popupSelector.querySelector(".popup__save-button"),o._handleVerification=e,o._id=n,o._element=r,o}return t=c,(n=[{key:"setEventListeners",value:function(){L(B(c.prototype),"setEventListeners",this).call(this),this._saveBtn.addEventListener("click",this._handleVerificationFunc)}},{key:"setInfo",value:function(e,t){this._id=e,this._element=t}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(l);function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userNameElement=t,this._userJobElement=n,this._userAvatarElement=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userNameElement.textContent,about:this._userJobElement.textContent,avatar:this._userAvatarElement}}},{key:"setUserInfo",value:function(e,t,n){this._userNameElement.textContent=e,this._userJobElement.textContent=t,this._userAvatarElement.src=n,this._userAvatarElement.alt="".concat(e,"'s avatar")}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._containerElement=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderer",value:function(e){var t=this;e.forEach((function(e){return t._renderer(e)}))}},{key:"addItem",value:function(e){this._containerElement.prepend(e)}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),N=document.querySelector(".profile__button_type_edit"),J=document.querySelector(".profile__image-overlay"),F=document.querySelector(".profile__button_type_add-image"),H=document.querySelector(".profile__name"),z=document.querySelector(".profile__info"),M=document.querySelector("#profile-image"),Y=".popup_type_edit-profile",G=".popup_type_edit-profile-image",K=".popup_type_add-card",Q=".popup_type_remove-card",W=document.querySelector("#card-template").content,X=document.querySelector(Y).querySelector(".popup__input_type_name"),Z=document.querySelector(Y).querySelector(".popup__input_type_info"),$=document.querySelector(G).querySelector(".popup__input_type_profile-img-link"),ee=new A(H,z,M),te=new j((function(e){var t=document.querySelector(Y).querySelector(".popup__save-button");t.textContent="Saving...",ue.setUserInfo(e).then((function(e){ee.setUserInfo(e.name,e.about,e.avatar),te.close()})).catch((function(e){console.log(e)})).finally((function(){t.textContent="Save"}))}),Y),ne=new j((function(e){var t=document.querySelector(G).querySelector(".popup__save-button");t.textContent="Saving...",ue.setUserAvatar(e).then((function(e){var t=ee.getUserInfo();ee.setUserInfo(t.name,t.about,e.avatar),ne.close()})).catch((function(e){console.log(e)})).finally((function(){t.textContent="Save"}))}),G),re=new j((function(e){var t=document.querySelector(K).querySelector(".popup__save-button");t.textContent="Creating...",ue.addNewCard(e).then((function(e){var t=new o(e,W,ce,se,fe,pe);le.addItem(t.createCard()),re.close()})).catch((function(e){console.log(e)})).finally((function(){t.textContent="Create"}))}),K),oe=new T((function(e,t){var n=document.querySelector(Q).querySelector(".popup__save-button");n.textContent="Deleting...",ue.removeCard(e).then((function(e){t.remove(),t=null,oe.close()})).catch((function(e){console.log(e)})).finally((function(){n.textContent="Yes"}))}),Q,"",""),ie=new v(".popup_type_card-view"),ce=ie.open,ae={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};Array.from(document.querySelectorAll(ae.formSelector)).forEach((function(e){new c(ae,e).enableValidation()}));var ue=new t({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"9b1558af-91ea-493b-ada9-7496ba6fa8e8","Content-Type":"application/json"}}),le=new V({renderer:function(e){var t=new o(e,W,ce,se,fe,pe);le.addItem(t.createCard())}},".images-container"),se="";function fe(e,t){oe.setInfo(e,t),oe.open()}function pe(e,t,n){var r=n,o=t.querySelector(".image-card__love-button"),i=t.querySelector(".image-card__love-count");return o.classList.contains("image-card__love-button_active")?ue.toggleLike(e,!1).then((function(e){o.classList.toggle("image-card__love-button_active"),i.textContent=e.likes.length,r=e.likes})).catch((function(e){console.log(e)})):ue.toggleLike(e,!0).then((function(e){o.classList.toggle("image-card__love-button_active"),i.textContent=e.likes.length,r=e.likes})).catch((function(e){console.log(e)})),r}ue.getUserInfo().then((function(e){ee.setUserInfo(e.name,e.about,e.avatar),se=e._id})).catch((function(e){console.log(e)})),ue.getInitialCards().then((function(e){le.renderer(e)})).catch((function(e){console.log(e)})),re.setEventListeners(),ie.setEventListeners(),N.addEventListener("click",(function(){te.open();var e=ee.getUserInfo();X.value=e.name,Z.value=e.about})),J.addEventListener("click",(function(){var e=M.src;ne.open(),$.value=e})),F.addEventListener("click",(function(){re.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0MsR0FDTkMsUUFBUUMsSUFBSUYsTUFJZFEsR0FBYWhGLG9CQUNiNEYsR0FBVzVGLG9CQUdYaUQsRUFBZTdGLGlCQUFpQixTQUFTLFdBQ3ZDNkcsR0FBaUI0QixPQUNqQixJQUFNZixFQUFjZCxHQUFTZSxjQUM3QmxCLEVBQWN0QyxNQUFRdUQsRUFBWXRLLEtBQ2xDc0osRUFBY3ZDLE1BQVF1RCxFQUFZckssU0FFcEN5SSxFQUFrQjlGLGlCQUFpQixTQUFTLFdBQzFDLElBQU1vSixFQUFTbEQsRUFBZTVDLElBQzlCa0UsR0FBb0JpQixPQUNwQjlCLEVBQWF4QyxNQUFRaUYsS0FFdkJyRCxFQUFjL0YsaUJBQWlCLFNBQVMsV0FDdEM0SCxHQUFhYSxVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9Qb3B1cFdpdGhWZXJpZmljYXRpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KS50aGVuKHJlcyA9PiB7XHJcbiAgICAgIGlmKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBhYm91dDogZGF0YS5pbmZvXHJcbiAgICAgIH0pXHJcbiAgICB9KS50aGVuKHJlcyA9PiB7XHJcbiAgICAgIGlmKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBzZXRVc2VyQXZhdGFyKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogZGF0YS5saW5rXHJcbiAgICAgIH0pXHJcbiAgICB9KS50aGVuKHJlcyA9PiB7XHJcbiAgICAgIGlmKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pLnRoZW4ocmVzID0+IHtcclxuICAgICAgaWYocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGFkZE5ld0NhcmQoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBsaW5rOiBkYXRhLmxpbmtcclxuICAgICAgfSlcclxuICAgIH0pLnRoZW4ocmVzID0+IHtcclxuICAgICAgaWYocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KS50aGVuKHJlcyA9PiB7XHJcbiAgICAgIGlmKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB0b2dnbGVMaWtlKGNhcmRJZCwgYWRkTGlrZSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBhZGRMaWtlID8gJ1BVVCcgOiAnREVMRVRFJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSkudGhlbihyZXMgPT4ge1xyXG4gICAgICBpZihyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KVxyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrLCB1c2VySWQsIGhhbmRsZURlbGV0ZVBvcHVwLCBoYW5kbGVMaWtlQnV0dG9uKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX293bmVyID0gZGF0YS5vd25lcjtcclxuICAgIHRoaXMuX293bmVySWQgPSB0aGlzLl9vd25lci5faWQ7XHJcbiAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gY2FyZFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZS1jYXJkJykuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlUG9wdXAgPSBoYW5kbGVEZWxldGVQb3B1cDtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24gPSBoYW5kbGVMaWtlQnV0dG9uO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlQ2FyZCgpIHtcclxuICAgIGNvbnN0IGNhcmROYW1lID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmltYWdlLWNhcmRfX25hbWUnKTtcclxuICAgIGNvbnN0IGNhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZS1jYXJkX19pbWFnZScpO1xyXG4gICAgY29uc3QgY2FyZExpa2VzID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmltYWdlLWNhcmRfX2xvdmUtY291bnQnKTtcclxuICBcclxuICAgIGNhcmROYW1lLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIGNhcmRJbWFnZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7dGhpcy5fbGlua30pYDtcclxuICAgIGNhcmRMaWtlcy50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICBcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH0gXHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIGNvbnN0IGNhcmRMaWtlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmltYWdlLWNhcmRfX2xvdmUtYnV0dG9uJyk7XHJcbiAgICBjb25zdCBjYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuaW1hZ2UtY2FyZF9faW1hZ2UnKTtcclxuICAgIGNvbnN0IGNhcmRSZW1vdmUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuaW1hZ2UtY2FyZF9fcmVtb3ZlLWJ1dHRvbicpO1xyXG5cclxuICAgIHRoaXMuX2xpa2VzLmZvckVhY2godXNlciA9PiB7XHJcbiAgICAgIGlmKHRoaXMuX3VzZXJJZCA9PT0gdXNlci5faWQpIHtcclxuICAgICAgICBjYXJkTGlrZS5jbGFzc0xpc3QuYWRkKCdpbWFnZS1jYXJkX19sb3ZlLWJ1dHRvbl9hY3RpdmUnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY2FyZExpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVMaWtlKTtcclxuICAgIFxyXG4gICAgY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlUG9wdXApO1xyXG4gICAgXHJcbiAgICBpZih0aGlzLl9vd25lcklkID09PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgY2FyZFJlbW92ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVJlbW92ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjYXJkUmVtb3ZlLnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZSA9IChldnQpID0+IHtcclxuICAgIHRoaXMuX2xpa2VzID0gdGhpcy5faGFuZGxlTGlrZUJ1dHRvbih0aGlzLl9jYXJkSWQsIHRoaXMuX2NhcmRFbGVtZW50LCB0aGlzLl9saWtlcyk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlUG9wdXAgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbGluaywgdGhpcy5fbmFtZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlUmVtb3ZlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlUG9wdXAodGhpcy5fY2FyZElkLCB0aGlzLl9jYXJkRWxlbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWdPYmplY3QsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9zZXR0aW5ncyA9IGNvbmZpZ09iamVjdDtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH07XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9zZXR0aW5ncy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgXHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xyXG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcclxuICB9O1xyXG4gIFxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfTtcclxufVxyXG5cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlLWJ1dHRvbicpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgncG9wdXBfdmlzaWJsZScpO1xyXG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX3Zpc2libGUnKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVCdXR0b25DbG9zZSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVCdXR0b25DbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQnV0dG9uQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQ2xpY2tDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX3Zpc2libGVcIikpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBFbGVtZW50KSB7XHJcbiAgICBzdXBlcihwb3B1cEVsZW1lbnQpO1xyXG5cclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuICAgIHRoaXMuX3BvcHVwVGl0bGUgPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2FyZC10aXRsZScpO1xyXG4gIH1cclxuXHJcbiAgb3BlbiA9IChpbWFnZVNyYywgaW1hZ2VDYXB0aW9uKSA9PiB7XHJcbiAgICBcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gaW1hZ2VTcmM7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IGltYWdlQ2FwdGlvbjtcclxuICAgIHRoaXMuX3BvcHVwVGl0bGUudGV4dENvbnRlbnQgPSBpbWFnZUNhcHRpb247XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKGhhbmRsZVN1Ym1pc3Npb24sIHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWlzc2lvbiA9IGhhbmRsZVN1Ym1pc3Npb247XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5faGFuZGxlU3VibWlzc2lvbkZ1bmMpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVN1Ym1pc3Npb25GdW5jID0gKGV2dCkgPT4ge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXNzaW9uKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgZm9ybVZhbHVlID0ge307XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4gZm9ybVZhbHVlW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWUpO1xyXG4gICAgcmV0dXJuIGZvcm1WYWx1ZTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aFZlcmlmaWNhdGlvbiBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcihoYW5kbGVWZXJpZmljYXRpb24sIHBvcHVwU2VsZWN0b3IsIGlkLCBlbGVtZW50KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3NhdmVCdG4gPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc2F2ZS1idXR0b24nKTtcclxuICAgIHRoaXMuX2hhbmRsZVZlcmlmaWNhdGlvbiA9IGhhbmRsZVZlcmlmaWNhdGlvbjtcclxuICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcclxuICB9XHJcbiAgXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fc2F2ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVZlcmlmaWNhdGlvbkZ1bmMpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVZlcmlmaWNhdGlvbkZ1bmMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9oYW5kbGVWZXJpZmljYXRpb24odGhpcy5faWQsIHRoaXMuX2VsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5mbyhpZCwgZWxlbWVudCkge1xyXG4gICAgdGhpcy5faWQgPSBpZDtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih1c2VyTmFtZVNlbGVjdG9yLCB1c2VySm9iU2VsZWN0b3IsIHVzZXJBdmF0YXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50ID0gdXNlck5hbWVTZWxlY3RvcjtcclxuICAgIHRoaXMuX3VzZXJKb2JFbGVtZW50ID0gdXNlckpvYlNlbGVjdG9yO1xyXG4gICAgdGhpcy5fdXNlckF2YXRhckVsZW1lbnQgPSB1c2VyQXZhdGFyU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IHVzZXJJbmZvID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLl91c2VySm9iRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgYXZhdGFyOiB0aGlzLl91c2VyQXZhdGFyRWxlbWVudFxyXG4gICAgfTtcclxuICAgIHJldHVybiB1c2VySW5mbztcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHVzZXJOYW1lLCB1c2VySm9iLCB1c2VyQXZhdGFyKSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSB1c2VyTmFtZTtcclxuICAgIHRoaXMuX3VzZXJKb2JFbGVtZW50LnRleHRDb250ZW50ID0gdXNlckpvYjtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXJFbGVtZW50LnNyYyA9IHVzZXJBdmF0YXI7XHJcbiAgICB0aGlzLl91c2VyQXZhdGFyRWxlbWVudC5hbHQgPSBgJHt1c2VyTmFtZX0ncyBhdmF0YXJgO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHtyZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyZXIoaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lckVsZW1lbnQucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn0iLCIvL2NzcyBpbXBvcnRcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbi8vaW1wb3J0c1xyXG5pbXBvcnQgQXBpIGZyb20nLi4vc2NyaXB0cy9BcGknO1xyXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9zY3JpcHRzL0NhcmQuanMnO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9zY3JpcHRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vc2NyaXB0cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL3NjcmlwdHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhWZXJpZmljYXRpb24gZnJvbSBcIi4uL3NjcmlwdHMvUG9wdXBXaXRoVmVyaWZpY2F0aW9uXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9zY3JpcHRzL1VzZXJJbmZvLmpzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vc2NyaXB0cy9TZWN0aW9uLmpzJztcclxuXHJcblxyXG4vL2NvbnN0YW50c1xyXG5jb25zdCBvcGVuRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b25fdHlwZV9lZGl0Jyk7XHJcbmNvbnN0IG9wZW5FZGl0SW1nQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2ltYWdlLW92ZXJsYXknKTtcclxuY29uc3Qgb3BlbkFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b25fdHlwZV9hZGQtaW1hZ2UnKTtcclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xyXG5jb25zdCBwcm9maWxlSW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19pbmZvJyk7XHJcbmNvbnN0IHByb2ZpbGVQaWN0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2ZpbGUtaW1hZ2UnKTtcclxuY29uc3QgcG9wdXBFZGl0UHJvZmlsZVNlbGVjdG9yID0gJy5wb3B1cF90eXBlX2VkaXQtcHJvZmlsZSc7XHJcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGVJbWdTZWxlY3RvciA9ICcucG9wdXBfdHlwZV9lZGl0LXByb2ZpbGUtaW1hZ2UnO1xyXG5jb25zdCBwb3B1cEFkZENhcmRTZWxlY3RvciA9ICcucG9wdXBfdHlwZV9hZGQtY2FyZCc7XHJcbmNvbnN0IHBvcHVwSW1hZ2VWaWV3U2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfY2FyZC12aWV3JztcclxuY29uc3QgcG9wdXBEZWxldGVWZXJpZmljYXRpb24gPSAnLnBvcHVwX3R5cGVfcmVtb3ZlLWNhcmQnO1xyXG5jb25zdCBjYXJkc0NvbnRhaW5lclNlbGVjdG9yID0gJy5pbWFnZXMtY29udGFpbmVyJztcclxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcmQtdGVtcGxhdGUnKS5jb250ZW50O1xyXG5cclxuY29uc3QgaW5wdXRFZGl0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBFZGl0UHJvZmlsZVNlbGVjdG9yKS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfbmFtZScpO1xyXG5jb25zdCBpbnB1dEVkaXRJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cEVkaXRQcm9maWxlU2VsZWN0b3IpLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9pbmZvJyk7XHJcbmNvbnN0IGlucHV0RWRpdEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBFZGl0UHJvZmlsZUltZ1NlbGVjdG9yKS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfcHJvZmlsZS1pbWctbGluaycpO1xyXG5jb25zdCB1c2VyRGF0YSA9IG5ldyBVc2VySW5mbyhwcm9maWxlTmFtZSwgcHJvZmlsZUluZm8sIHByb2ZpbGVQaWN0dXJlKTtcclxuXHJcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCwgcG9wdXBFZGl0UHJvZmlsZVNlbGVjdG9yKTtcclxuY29uc3QgcG9wdXBFZGl0UHJvZmlsZUltZyA9IG5ldyBQb3B1cFdpdGhGb3JtKGhhbmRsZVByb2ZpbGVJbWdGb3JtU3VibWl0LCBwb3B1cEVkaXRQcm9maWxlSW1nU2VsZWN0b3IpO1xyXG5jb25zdCBwb3B1cEFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdCwgcG9wdXBBZGRDYXJkU2VsZWN0b3IpO1xyXG5jb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBuZXcgUG9wdXBXaXRoVmVyaWZpY2F0aW9uKGhhbmRsZURlbGV0ZUNhcmQsIHBvcHVwRGVsZXRlVmVyaWZpY2F0aW9uLCAnJywgJycpO1xyXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwSW1hZ2VWaWV3U2VsZWN0b3IpO1xyXG5jb25zdCBvcGVuSW1hZ2UgPSBwb3B1cEltYWdlLm9wZW47XHJcblxyXG4vL2Zvcm0gdmFsaWRhdG9yIGNvbmZpZ1xyXG5jb25zdCBjb25maWdPYmplY3QgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc2F2ZS1idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19zYXZlLWJ1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIlxyXG59O1xyXG5jb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWdPYmplY3QuZm9ybVNlbGVjdG9yKSk7XHJcblxyXG4vL3ZhbGlkYXRlIGZvcm1zXHJcbmZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgY29uc3QgZm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZ09iamVjdCwgZm9ybUVsZW1lbnQpO1xyXG4gIGZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjliMTU1OGFmLTkxZWEtNDkzYi1hZGE5LTc0OTZiYTZmYThlOFwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICB9XHJcbn0pOyBcclxuXHJcblxyXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHtcclxuICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoY2FyZERhdGEsIGNhcmRUZW1wbGF0ZSwgb3BlbkltYWdlLCB1c2VySWQsIGhhbmRsZURlbGV0ZVBvcHVwLCBoYW5kbGVMaWtlQnRuKTtcclxuICAgIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZC5jcmVhdGVDYXJkKCkpO1xyXG4gIH19LFxyXG4gIGNhcmRzQ29udGFpbmVyU2VsZWN0b3JcclxuKVxyXG5cclxubGV0IHVzZXJJZCA9ICcnO1xyXG5cclxuYXBpLmdldFVzZXJJbmZvKClcclxuLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gIHVzZXJEYXRhLnNldFVzZXJJbmZvKHJlc3VsdC5uYW1lLCByZXN1bHQuYWJvdXQsIHJlc3VsdC5hdmF0YXIpO1xyXG4gIHVzZXJJZCA9IHJlc3VsdC5faWQ7XHJcbn0pXHJcbi5jYXRjaCgoZXJyb3IpID0+IHtcclxuICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbn0pO1xyXG5cclxuXHJcbmFwaS5nZXRJbml0aWFsQ2FyZHMoKVxyXG4udGhlbigocmVzdWx0KSA9PiB7XHJcbiAgY2FyZExpc3QucmVuZGVyZXIocmVzdWx0KTtcclxufSlcclxuLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gIGNvbnNvbGUubG9nKGVycm9yKTtcclxufSk7XHJcblxyXG5cclxucG9wdXBBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcblxyXG5vcGVuRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cEVkaXRQcm9maWxlLm9wZW4oKTtcclxuICBjb25zdCB1c2VyRWxlbWVudCA9IHVzZXJEYXRhLmdldFVzZXJJbmZvKCk7XHJcbiAgaW5wdXRFZGl0TmFtZS52YWx1ZSA9IHVzZXJFbGVtZW50Lm5hbWU7XHJcbiAgaW5wdXRFZGl0SW5mby52YWx1ZSA9IHVzZXJFbGVtZW50LmFib3V0O1xyXG59KTtcclxub3BlbkVkaXRJbWdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgY29uc3QgaW1nVXJsID0gcHJvZmlsZVBpY3R1cmUuc3JjO1xyXG4gIHBvcHVwRWRpdFByb2ZpbGVJbWcub3BlbigpO1xyXG4gIGlucHV0RWRpdEltZy52YWx1ZSA9IGltZ1VybDtcclxufSk7XHJcbm9wZW5BZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgcG9wdXBBZGRDYXJkLm9wZW4oKTtcclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdChzdWJtaXNzaW9uRGF0YSl7XHJcbiAgY29uc3QgcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cEVkaXRQcm9maWxlU2VsZWN0b3IpO1xyXG4gIGNvbnN0IHBvcHVwQnV0dG9uID0gcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc2F2ZS1idXR0b24nKTtcclxuICBwb3B1cEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XHJcbiAgYXBpLnNldFVzZXJJbmZvKHN1Ym1pc3Npb25EYXRhKVxyXG4gIC50aGVuKChyZXN1bHQpID0+IHsgXHJcbiAgICB1c2VyRGF0YS5zZXRVc2VySW5mbyhyZXN1bHQubmFtZSwgcmVzdWx0LmFib3V0LCByZXN1bHQuYXZhdGFyKTtcclxuICAgIHBvcHVwRWRpdFByb2ZpbGUuY2xvc2UoKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICB9KVxyXG4gIC5maW5hbGx5KCgpID0+IHtcclxuICAgIHBvcHVwQnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVJbWdGb3JtU3VibWl0KHN1Ym1pc3Npb25EYXRhKXtcclxuICBjb25zdCBwb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwRWRpdFByb2ZpbGVJbWdTZWxlY3Rvcik7XHJcbiAgY29uc3QgcG9wdXBCdXR0b24gPSBwb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19zYXZlLWJ1dHRvbicpO1xyXG4gIHBvcHVwQnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICBhcGkuc2V0VXNlckF2YXRhcihzdWJtaXNzaW9uRGF0YSlcclxuICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICBjb25zdCB1c2VyRWxlbWVudCA9IHVzZXJEYXRhLmdldFVzZXJJbmZvKCk7XHJcbiAgICB1c2VyRGF0YS5zZXRVc2VySW5mbyh1c2VyRWxlbWVudC5uYW1lLCB1c2VyRWxlbWVudC5hYm91dCwgcmVzdWx0LmF2YXRhcik7XHJcbiAgICBwb3B1cEVkaXRQcm9maWxlSW1nLmNsb3NlKCk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgfSlcclxuICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICBwb3B1cEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xyXG4gIH0pO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZEZvcm1TdWJtaXQoY2FyZERhdGEpe1xyXG4gIGNvbnN0IHBvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBBZGRDYXJkU2VsZWN0b3IpO1xyXG4gIGNvbnN0IHBvcHVwQnV0dG9uID0gcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc2F2ZS1idXR0b24nKTtcclxuICBwb3B1cEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQ3JlYXRpbmcuLi5cIjtcclxuICBhcGkuYWRkTmV3Q2FyZChjYXJkRGF0YSlcclxuICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQocmVzdWx0LCBjYXJkVGVtcGxhdGUsIG9wZW5JbWFnZSwgdXNlcklkLCBoYW5kbGVEZWxldGVQb3B1cCwgaGFuZGxlTGlrZUJ0bik7XHJcbiAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmQuY3JlYXRlQ2FyZCgpKTtcclxuICAgIHBvcHVwQWRkQ2FyZC5jbG9zZSgpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gIH0pXHJcbiAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgcG9wdXBCdXR0b24udGV4dENvbnRlbnQgPSBcIkNyZWF0ZVwiO1xyXG4gIH0pO1xyXG4gIFxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVQb3B1cChjYXJkSWQsIGNhcmRFbGVtZW50KSB7XHJcbiAgcG9wdXBEZWxldGVDYXJkLnNldEluZm8oY2FyZElkLCBjYXJkRWxlbWVudCk7XHJcbiAgcG9wdXBEZWxldGVDYXJkLm9wZW4oKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmQoY2FyZElkLCBjYXJkRWxlbWVudCkge1xyXG4gIGNvbnN0IHBvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBEZWxldGVWZXJpZmljYXRpb24pO1xyXG4gIGNvbnN0IHBvcHVwQnV0dG9uID0gcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc2F2ZS1idXR0b24nKTtcclxuICBwb3B1cEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRGVsZXRpbmcuLi5cIjtcclxuICBhcGkucmVtb3ZlQ2FyZChjYXJkSWQpXHJcbiAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICBjYXJkRWxlbWVudCA9IG51bGw7XHJcbiAgICBwb3B1cERlbGV0ZUNhcmQuY2xvc2UoKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICB9KVxyXG4gIC5maW5hbGx5KCgpID0+IHtcclxuICAgIHBvcHVwQnV0dG9uLnRleHRDb250ZW50ID0gXCJZZXNcIjtcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVMaWtlQnRuKGNhcmRJZCwgY2FyZEVsZW1lbnQsIGxpa2VzKSB7XHJcbiAgbGV0IGxpa2VzQXJyID0gbGlrZXM7XHJcbiAgY29uc3QgbGlrZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZS1jYXJkX19sb3ZlLWJ1dHRvbicpO1xyXG4gIGNvbnN0IGxpa2VDb3VudGVyID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmltYWdlLWNhcmRfX2xvdmUtY291bnQnKTtcclxuICBpZihsaWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnaW1hZ2UtY2FyZF9fbG92ZS1idXR0b25fYWN0aXZlJykpIHtcclxuICAgIGFwaS50b2dnbGVMaWtlKGNhcmRJZCwgZmFsc2UpXHJcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnaW1hZ2UtY2FyZF9fbG92ZS1idXR0b25fYWN0aXZlJyk7XHJcbiAgICAgIGxpa2VDb3VudGVyLnRleHRDb250ZW50ID0gcmVzdWx0Lmxpa2VzLmxlbmd0aDtcclxuICAgICAgbGlrZXNBcnIgPSByZXN1bHQubGlrZXM7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgYXBpLnRvZ2dsZUxpa2UoY2FyZElkLCB0cnVlKVxyXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICBsaWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2ltYWdlLWNhcmRfX2xvdmUtYnV0dG9uX2FjdGl2ZScpO1xyXG4gICAgICBsaWtlQ291bnRlci50ZXh0Q29udGVudCA9IHJlc3VsdC5saWtlcy5sZW5ndGg7XHJcbiAgICAgIGxpa2VzQXJyID0gcmVzdWx0Lmxpa2VzO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHJldHVybiBsaWtlc0FycjtcclxufVxyXG4iXSwibmFtZXMiOlsiQXBpIiwib3B0aW9ucyIsInRoaXMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZGF0YSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibmFtZSIsImFib3V0IiwiaW5mbyIsImF2YXRhciIsImxpbmsiLCJjYXJkSWQiLCJhZGRMaWtlIiwiQ2FyZCIsImNhcmRTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsInVzZXJJZCIsImhhbmRsZURlbGV0ZVBvcHVwIiwiaGFuZGxlTGlrZUJ1dHRvbiIsImV2dCIsIl9saWtlcyIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2NhcmRJZCIsIl9jYXJkRWxlbWVudCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfbGluayIsIl9uYW1lIiwiX2hhbmRsZURlbGV0ZVBvcHVwIiwibGlrZXMiLCJfb3duZXIiLCJvd25lciIsIl9vd25lcklkIiwiX2lkIiwiX3VzZXJJZCIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9uZU5vZGUiLCJjYXJkTmFtZSIsImNhcmRJbWFnZSIsImNhcmRMaWtlcyIsInRleHRDb250ZW50Iiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJsZW5ndGgiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJjYXJkTGlrZSIsImNhcmRSZW1vdmUiLCJmb3JFYWNoIiwidXNlciIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZSIsIl9oYW5kbGVQb3B1cCIsIl9oYW5kbGVSZW1vdmUiLCJyZW1vdmUiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnT2JqZWN0IiwiZm9ybUVsZW1lbnQiLCJfc2V0dGluZ3MiLCJfZm9ybUVsZW1lbnQiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiYnV0dG9uRWxlbWVudCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRFbGVtZW50IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiY2xvc2UiLCJrZXkiLCJ0YXJnZXQiLCJjb250YWlucyIsIl9wb3B1cFNlbGVjdG9yIiwiZG9jdW1lbnQiLCJfY2xvc2VCdXR0b24iLCJzZXRFdmVudExpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlQ2xpY2tDbG9zZSIsIl9oYW5kbGVFc2NDbG9zZSIsIl9oYW5kbGVCdXR0b25DbG9zZSIsIlBvcHVwV2l0aEltYWdlIiwicG9wdXBFbGVtZW50IiwiaW1hZ2VTcmMiLCJpbWFnZUNhcHRpb24iLCJfcG9wdXBJbWFnZSIsInNyYyIsImFsdCIsIl9wb3B1cFRpdGxlIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pc3Npb24iLCJfaGFuZGxlU3VibWlzc2lvbiIsIl9nZXRJbnB1dFZhbHVlcyIsIl9pbnB1dExpc3QiLCJfZm9ybSIsInJlc2V0IiwiX2hhbmRsZVN1Ym1pc3Npb25GdW5jIiwiZm9ybVZhbHVlIiwiaW5wdXQiLCJ2YWx1ZSIsIlBvcHVwV2l0aFZlcmlmaWNhdGlvbiIsImhhbmRsZVZlcmlmaWNhdGlvbiIsImVsZW1lbnQiLCJfaGFuZGxlVmVyaWZpY2F0aW9uIiwiX2VsZW1lbnQiLCJfc2F2ZUJ0biIsIl9oYW5kbGVWZXJpZmljYXRpb25GdW5jIiwiVXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckpvYlNlbGVjdG9yIiwidXNlckF2YXRhclNlbGVjdG9yIiwiX3VzZXJOYW1lRWxlbWVudCIsIl91c2VySm9iRWxlbWVudCIsIl91c2VyQXZhdGFyRWxlbWVudCIsInVzZXJOYW1lIiwidXNlckpvYiIsInVzZXJBdmF0YXIiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXJFbGVtZW50IiwiaXRlbXMiLCJpdGVtIiwicHJlcGVuZCIsIm9wZW5FZGl0QnV0dG9uIiwib3BlbkVkaXRJbWdCdXR0b24iLCJvcGVuQWRkQnV0dG9uIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlSW5mbyIsInByb2ZpbGVQaWN0dXJlIiwicG9wdXBFZGl0UHJvZmlsZVNlbGVjdG9yIiwicG9wdXBFZGl0UHJvZmlsZUltZ1NlbGVjdG9yIiwicG9wdXBBZGRDYXJkU2VsZWN0b3IiLCJwb3B1cERlbGV0ZVZlcmlmaWNhdGlvbiIsImNhcmRUZW1wbGF0ZSIsImNvbnRlbnQiLCJpbnB1dEVkaXROYW1lIiwiaW5wdXRFZGl0SW5mbyIsImlucHV0RWRpdEltZyIsInVzZXJEYXRhIiwicG9wdXBFZGl0UHJvZmlsZSIsInN1Ym1pc3Npb25EYXRhIiwicG9wdXBCdXR0b24iLCJhcGkiLCJzZXRVc2VySW5mbyIsInJlc3VsdCIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiZmluYWxseSIsInBvcHVwRWRpdFByb2ZpbGVJbWciLCJzZXRVc2VyQXZhdGFyIiwidXNlckVsZW1lbnQiLCJnZXRVc2VySW5mbyIsInBvcHVwQWRkQ2FyZCIsImNhcmREYXRhIiwiYWRkTmV3Q2FyZCIsImNhcmQiLCJvcGVuSW1hZ2UiLCJoYW5kbGVMaWtlQnRuIiwiY2FyZExpc3QiLCJhZGRJdGVtIiwiY3JlYXRlQ2FyZCIsInBvcHVwRGVsZXRlQ2FyZCIsImNhcmRFbGVtZW50IiwicmVtb3ZlQ2FyZCIsInBvcHVwSW1hZ2UiLCJvcGVuIiwiZm9ybVNlbGVjdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsImF1dGhvcml6YXRpb24iLCJzZXRJbmZvIiwibGlrZXNBcnIiLCJsaWtlQnV0dG9uIiwibGlrZUNvdW50ZXIiLCJ0b2dnbGVMaWtlIiwidG9nZ2xlIiwiZ2V0SW5pdGlhbENhcmRzIiwiaW1nVXJsIl0sInNvdXJjZVJvb3QiOiIifQ==